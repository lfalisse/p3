<!DOCTYPE html>
<html>
<head>
	<title>furniture</title>
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
	<script src=bindery.min.js></script>
	<link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400;0,700;1,400&family=EB+Garamond:wght@400;600&family=Source+Code+Pro:wght@300;400;500&display=swap" rel="stylesheet">
<style>
body{
	background-color: #d8d8d8;
}
.ðŸ“–-page{
	background-image: url("images/noise.png");
}
#content{
	/*background-image: url("images/noise.png");*/
}
img{
	height:100%;
}
#blank{
	visibility: hidden;
}
.title{
	text-align: left;
	font-family: 'EB Garamond', serif;
	font-weight: 400;
	font-size: 225%;
}
p{
	font-family: 'Arimo', sans-serif;
	font-weight: 400;
	text-align: left;
    margin-top: -2%;
    font-size: 50%;
}
.type{
	font-style: italic;
}
</style>
</head>
<body>
<div id=content>
	<h1 id=blank>hello</h1>
<!-- 	<div id=type></div>
	<div id=title></div>
	<div id=photographer></div>
	<div id=fate></div>
	<div id=location></div>
	<div id=file></div> -->
</div>
<!-- <div id=images> -->

</div>
<script>
var url = "https://raw.githubusercontent.com/lfalisse/p3/master/mydata.json";

fetch(url)
	.then(function(response){return response.json();})	
	.then(function(json){buildPage(json);})


var urlParams = new URLSearchParams(location.search);

urlParams.has('type');  // true
urlParams.get('id');    // 1234
urlParams.getAll('id'); // ["1234"]
urlParams.toString();   // type=product&id=1234

// console.log(urlParams.toString('month'))
// console.log(urlParams.get('type'))

function buildPage(data) {
	var array = data;

	console.log(array);
	for(var i = 0; i < array.length; i = i + 1){
		var content = document.getElementById('content');
		var container = document.createElement("div");
		var br = document.createElement("br");
	container.setAttribute("class", "container");
		content.appendChild(container)
		var title = document.createElement("p");
	title.setAttribute("class", "title");
		var type = document.createElement("p");
	type.setAttribute("class", "type");
		var photographer = document.createElement("p");
		var fate = document.createElement("p");
		// loc.setAttribute("id", "loc");
		var location = document.createElement("p");
		var file = document.createElement("img");
		var imgsrc = array[i].file;
		
		container.appendChild(file);
		container.appendChild(type);
		container.appendChild(photographer);
		container.appendChild(fate);
		container.appendChild(location);
		container.appendChild(br);
		container.appendChild(title);
		
		title.innerHTML = array[i].title;
		type.innerHTML = array[i].type;
		photographer.innerHTML = array[i].photographer;
		fate.innerHTML = array[i].fate;
		location.innerHTML = array[i].location;
		file.src = "images/" + imgsrc + '.jpg';
	// 	$(this).mouseover(function(){
	// 		this.html = '<img src="images/' + imgsrc + ' " display="block">';
	// });
};
}
$(function() {
      setTimeout(function() {
        Bindery.makeBook({
	content:'#content',
	// options
	rules: [
	Bindery.PageBreak({
	selector:'.type', 
	position:'before'
	}),

	Bindery.FullBleedPage({
  	selector: 'img',
 	continue: 'same'
	}),
	]
})          
            }, 1000);
});

</script>
</body>
</html>
</html>
